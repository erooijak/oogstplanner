/* * * * * * * * * * * * * * * * * * * * * * *
 *
 * Migration:		Initial
 *
 * Date and time:	11/29/2014 2:49:23 PM
 *
 * * * * * * * * * * * * * * * * * * * * * * */

CREATE SCHEMA IF NOT EXISTS "public"
CREATE TABLE "public"."Calendars" (
    "CalendarId" serial NOT NULL,
    "UserId" integer NOT NULL,
    CONSTRAINT "PK_public.Calendars" PRIMARY KEY ("CalendarId")
)
CREATE INDEX "IX_public.Calendars_UserId" ON "public"."Calendars"("UserId")
CREATE TABLE "public"."FarmingMonths" (
    "Id" serial NOT NULL,
    "Month" integer NOT NULL,
    "Action" integer NOT NULL,
    "CropCount" integer NOT NULL,
    "Calendar_CalendarId" integer,
    "Crop_Id" integer,
    CONSTRAINT "PK_public.FarmingMonths" PRIMARY KEY ("Id")
)
CREATE INDEX "IX_public.FarmingMonths_Calendar_CalendarId" ON "public"."FarmingMonths"("Calendar_CalendarId")
CREATE INDEX "IX_public.FarmingMonths_Crop_Id" ON "public"."FarmingMonths"("Crop_Id")
CREATE TABLE "public"."Crops" (
    "Id" serial NOT NULL,
    "Name" text,
    "Race" text,
    "Category" text,
    "AreaPerCrop" float8,
    "AreaPerBag" float8,
    "PricePerBag" decimal,
    "SowingMonths" integer NOT NULL,
    "HarvestingMonths" integer NOT NULL,
    CONSTRAINT "PK_public.Crops" PRIMARY KEY ("Id")
)
CREATE TABLE "public"."Users" (
    "UserId" serial NOT NULL,
    "Name" text,
    CONSTRAINT "PK_public.Users" PRIMARY KEY ("UserId")
)
ALTER TABLE "public"."Calendars" ADD CONSTRAINT "FK_public.Calendars_public.Users_UserId" FOREIGN KEY ("UserId") REFERENCES "public"."Users" ("UserId") ON DELETE CASCADE
ALTER TABLE "public"."FarmingMonths" ADD CONSTRAINT "FK_public.FarmingMonths_public.Calendars_Calendar_CalendarId" FOREIGN KEY ("Calendar_CalendarId") REFERENCES "public"."Calendars" ("CalendarId")
ALTER TABLE "public"."FarmingMonths" ADD CONSTRAINT "FK_public.FarmingMonths_public.Crops_Crop_Id" FOREIGN KEY ("Crop_Id") REFERENCES "public"."Crops" ("Id")
CREATE TABLE "public"."__MigrationHistory" (
    "MigrationId" varchar(150) NOT NULL,
    "ContextKey" varchar(300) NOT NULL,
    "Model" bytea NOT NULL,
    "ProductVersion" varchar(32) NOT NULL,
    CONSTRAINT "PK_public.__MigrationHistory" PRIMARY KEY ("MigrationId", "ContextKey")
)
insert into "public"."__MigrationHistory" ("MigrationId", "ContextKey", "Model", "ProductVersion")
 values ('201411291348472_Initial', 'Zk.Migrations.Configuration',  decode('1F8B0800000000000003EC1BDB6EDB36F47DC0FE41D0E390D94ED2166910B7489D6673D75C10A7C5D0978291684708456914952518F6657BD827ED177624EA4252374A76326F18060C3575CEE1E1B993E7E4AF3FFE3C7AFBE013EB1EB3C80BE8D4DE1D4D6C0B5327703DBA9ADA315F7E7F60BF7DF3ED3747EF5DFFC1FA9CC3ED27708049A3A97DCB7978381E47CE2DF65134F23D870551B0E42327F0C7C80DC67B93C9EBF1EEEE1803091B6859D6D1554CB9E7E3F407FC9C05D4C1218F11390B5C4CA26C1DBE2C52AAD639F2711422074FED2F772301645BC7C443C0C00293A56D214A038E38B077F829C20BCE02BA5A84B080C8F56388016E89488433B60F4B70D3134CF692138C4BC49C9413473CF07B12DCDDCF4432D6D10709D62E4406427B0FC2E58FC9A953C14DED192298BA88D996BED9E18CB0045092EB2887DEB1BEDCED143A9F8CD2FF76AC594C78CCF094E298334476ACCBF88678CE4FF8F13AB8C3744A634264768021F8A62CC0D2250B42CCF8E3155E6A4CCE5DDB1AABF8639D40815E832B8E33A77C7FCFB6CE8119744370A17DE9E80B1E30FC03A698218EDD4BC43966A0BCB98B53F955B8D0F6042B33D84FA3718EEEBD55BABD46ED14311F7CEE2CA0FC164CFB0A93142ABAF54261E12319E26BA9D15316F85701D14814005FAF115B610E6C066D508B20664E0F7693C3D772595014102577CA8762BF9C2BF56BCEB3CCCDD1B834EB5663970F6866F032C6331BFD10637F4E23CFA428B64B159CAD7419BA46E7D811A14D2294483D5FEE496D063F6701E4904D795FE94E9B733CDDC4DBDDD39853F869C0650AD5C4217CECE02E8158CB09050346D90620FF773A65AFE4FF85AB70066AB1AD33F4F011D315BF059F440FA05BEF01BBF94AC6C127EA41E506489CC59D3E74859CA7DF6406E75F05ECF1C9373A66185D6226CC4EEC751280B59822BE43AB7E7897CC73B086881DCF47C4B62E19FC2B2BA80F6C6BE1A0C44CF6BA482E825FA50A60ED90FB2362F738E2C3491A3BBB48F5ADCE9E803CB397E7F5595F4F37ABEBB6DADB9B3517FB92DE32239847A704ADA29C5047D05EB34602B65DCCC8231C5316B02AA133ECDF6096CB27E08B240F7D4624869F938A3C15E80F88C6887905F86E3BF829BE610A7CD54B15F8338458C9CB8B76E0E39079A4003EE8A08C25A65F751C32A625F07E07CB1F625202BFEA62395E81FAE3A86465AF83EF055CDCD3DFA5085F76B07F71C70319E1E56EC711CE837B758BDDC95EC74120186B5C4D5E1C54BD44F8438B8FC8556AE1289907B67A4A89F8BCEE52867D53971179A7C963EAA5741C4581E3A5A7AEB9769555B2BAED7BEA5A4625B37A4B286F736720332F042941709BDADF55CED5B54171192E37280B7A95F86434AA48423A751F61244589199F4A65BE6921C845BD2C80B466DAE0E1D5278026DE1ADE03BA15D376E0FA670489A828555482BB2A8F40F0829E608239B6840327742307B9D5920B7CC35557A0FEC02C49FC88CCE07E069EED515E2D563CEA7821226D6C6B483D6A9C84B1620BFDCB090E612FE0B04D0FEBED5D6CA109AB4B368D3626AA19C0E18051C4AD2F77C90A7EE035911898CB82715ED7E826935084BA42B359487C65E95431C48ADDA944B437BC0A21D58D3B88256E59CB4DEAAE1DC8896EEA9085F96BC892D0EBCF223D7A48B0ADAF23BA4D9846FEE220156956CCCC34D64B24252DEB8EAC0AA1B78052A57409A792070C33C1068422C77E5920C2C8D61686F6EA5B15444B4E30C80A262A34C8031299CC418C0F9EDFA88A1854B6A8C6A24795F7B2C60DCDACA3331486A010A9B995AD580BD1D99A7DBFE8DFFBF1058DB113D5B4800A6E8B9DE0AA8A5658FB0A5B03A7A71E8BF809E2E80625C5EDCCF52B6065C46D083FF93E7A50AD6A2A0F4C3946F2EF3CACEB8DA89A7494A19DC269FC2497A577F01A33A9A2A64D4544106B6921CD0212FBB4AB2DD5462D4F8E32A5A68499188D769E4A4AAD08AC5287A81A30D28F1A4C86E948C969FDF5D48EDE245D5DB2FD7493E55F99406D4A6EA3915F096522F99A3915A98FA1985CB9BC35B62232C5403FAE497C263E5C8BF63436211EE1647CB1624E41BCA7CB14C44A0F6B281ECBD5F893AFF6B04EF9355C3151F9436F7AE95B770DB974DD9C9AF2742E93533E98D353DFCD6582EA17738AD5A773996AF5EBD678A9286B8679695D6566E0A5F5689BC98BEB7BEB53EB412D189BD3AB7485EACAA212689F6C9954BF2D3325957B51555483CAA2AF6DF551FA3E92131CCA6FE393C4E034D0CA1654B8AE97BE66CDA3A4EB53BCF6F63CBD7E9958D37C8AC666BBE9A4601B351BE9E638500529898D9B877441DE2ED3A83F6DB73954AE983A4811CB8AABA676A53CCAAE77DD439495FB9E00495AD7C1BDE72677BDF37015FD42CA953344BD25A43DD19CB05F8FF6472FB511CCED19871C47914B6A2EC4753391AA9AFE8151458FF21799D3B675917BB6FFD536B6D8A3F24C3AA72E7E98DABFA53887D6FCE7AF026DC7BA60A0F3436B62FDBEA92981E628F41C533B4F2364653C4E6CB1D660DC20129569B86154EA525A4FE3A9A1D1644946D3437928EDCB86C033DFBADF58DB7FC476E5B913D145E9A71D79806C08BE3E1B368446CDD8D79204881F0C24244D730DA353331646631FC36ACB5858BF2DEAC6C406797CD3809801B17EA361031C6633C35BDBE0384DA25A778242BD50F61E6668EC15AD3178B056EFDBA8E7DC7ED934EE79773C5A37EFDB71DBDD78E37B9DC9123928F618F4D81EC3A87F353649AE4F6C0CCDF7D9673000B3E91AD1877DCEC19781916943C6D2F078F9A41333FF8E29996A6BB7E125B9F2A7302D8330E2B9606A87E9C822285A64BFE6F98AB65199CE499986DD5A67216AE7691AC7699ACE533B1E51376CD3386BD340B97EFEE0792771744DAB8D73D3D992C6F1946D9CB1918DA0EC316EC351373641235B63D9A031199631B283CDCCC8541F2A21EE497F130E3137F2562589E4E9956247897805CC9C2E833CF06A1CE520FAB30DE6C8857078CCB8B7440E87CF0E8E22790AFABD7F83DD39BD887918733832F66F88D2834D0278DBFEE92090CAF3D14598FED1DE268E006C7A70047C41DFC51E710BBE4F6B2E6B0D2492CC905D8B125DF2E47AB47A2C289D07D4905026BE22A15D633F24402CBAA00B748F87F00646FB11AF90F3983F3F3713E956842AF6A3130FAD18F2A38C46890F3FC1865DFFE1CDDF020C009BEF4A8E1A410000', 'hex') , '6.1.1-30610')

