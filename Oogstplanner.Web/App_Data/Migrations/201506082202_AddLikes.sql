/* * * * * * * * * * * * * * * * * * * * * * *
 *
 * Migration:		AddLikes
 *
 * Date and time:	6/8/2015 10:01:30 PM
 *
 * * * * * * * * * * * * * * * * * * * * * * */

DROP INDEX "public"."IX_public.Calendars_User_Id";
DROP INDEX "public"."IX_public.Users_User_Id";
ALTER TABLE "public"."Calendars" ADD "User_Id1" integer NOT NULL DEFAULT 0;
ALTER TABLE "public"."Users" ADD "Calendar_Id" integer;
ALTER TABLE "public"."Calendars" ALTER COLUMN "User_Id" TYPE integer;
CREATE INDEX "IX_public.Calendars_User_Id" ON "public"."Calendars"("User_Id");
CREATE INDEX "IX_public.Calendars_User_Id1" ON "public"."Calendars"("User_Id1");
CREATE INDEX "IX_public.Users_Calendar_Id" ON "public"."Users"("Calendar_Id");
ALTER TABLE "public"."Users" ADD CONSTRAINT "FK_public.Users_public.Calendars_Calendar_Id" 
 FOREIGN KEY ("Calendar_Id") REFERENCES "public"."Calendars" ("Id");
ALTER TABLE "public"."Calendars" ADD CONSTRAINT "FK_public.Calendars_public.Users_User_Id1" 
 FOREIGN KEY ("User_Id1") REFERENCES "public"."Users" ("Id") ON DELETE CASCADE;
ALTER TABLE "public"."Calendars" ADD CONSTRAINT "FK_public.Calendars_public.Users_User_Id" 
 FOREIGN KEY ("User_Id") REFERENCES "public"."Users" ("Id");
ALTER TABLE "public"."Users" DROP COLUMN "User_Id";
insert into "public"."__MigrationHistory" ("MigrationId", "ContextKey", "Model", "ProductVersion")
 values ('201506082000483_AddLikes', 'Oogstplanner.Migrations.Configuration',  decode('1F8B0800000000000003EC5DDB6EDC38127D5F60FF41D0E320D3EDB6934C62B867E0E9C4339E8D2F707B06FB16D012DD1646B79528C7C662BF6C1FF693F617961475E1552225B5DD5EF82570F3725855AC228B2CAAF2DF7FFFE7E8A7872874EE61960749BC7417B33DD781B197F841BC59BA05BAFDFE83FBD38F7FFDCBD1673F7A70FEA8DB1D9076B8679C2FDD3B84D2C3F93CF7EE6004F2591478599227B768E625D11CF8C97C7F6FEFE37CB198430CE1622CC739BA2A621444B0FC817FAE92D883292A407896F830CCAB725CB32E519D7310C13C051E5CBA17C926476908E21866B34F0001D7390E03800959C3F0D67570458200C2641EFE9EC335CA9278B34E710108AF1F5388DBDD82308715F9876D73534EF6F60927F3B6630DE515394A224BC0C541259AB9D87D9080DD467458789FB190D123E1BA14E0D25D8110C63EC85C471CEC701566A4A1205F3A1DB3BADF1B4751FBA6510BAC3DB377EF0F7E981D7C5CFCF0FE8DB32A4254647019C30265207CE35C163761E0FD0D3E5E277FC278191761C8128C49C6755C012EBACC921466E8F10ADE566C9CFAAE33E7FBCDC58E4D37A60F65F0344607FBAE738E070737216CF48111C61A2519FC05621E0182FE2540086631C180A544A5D185B1C8BFF5685801B129B9CE1978F802E30DBA5BBAF84FD739091EA05F975414FC1E07D8F270279415501AE41CDC079B923E61B8139045788C638FD4E5AE7305C3B2597E17A4D42A665C93AFAD1A9C64497495842248D3E2EB35C83610616692CE66EBA4C83C0B92BF047F4235A50D64D5A4A590AF6986AC2913AA6BC24D29C26B45D64D106DA1A08754E8C9296B55D41CCD5BFBECB45A4EE6B6A6CB757EB55F23FB3D4B6274D718305182AA441AB31BA79E3106881691026BB415FEB94AF0C6D9270853956F978129570CD1107A16166362F14F1342CB665A22716D1F81A4C92873A524586EB0B8CFAB713EE3E62A0C7205BCED0FB2C2FC6F92EC71EB03FD9225DF30F275D04ACE70ED1017B40C824B98510DA7409F12AC76A61D7F061BBB7E9759E041A123F4820884AE7399E1BFAA63CB07D7597B80F0B1DF07B92E65512EE8F9046BFCAF20BB87391A0E69BCAE50FFC36E5D217D5ED795DD59574E30FD4F32D0E70804E1D647392ED01D91AE57CEC01A4F44C11B00D300FA75BDB5DF034B787CD66FE446FEA6CBD968EF477D0C29BD76A649EB51F035923721548F73FC93304CBED95B7DDDEFD5F2D596AF3F4953C1F96A47B392EAD7B615E3678A95B29B29B5B0758169C7D292FBC92B9B69E9C3B57D049226A3B4F712E4F9B724F3AF600E51A941B67A2C23BC6AB4D15EF634AB7F35A7DB1E052FF378E78852CBB55FAFA745C46869E5A29DE62721D8E43549767A5A626C4335B1A47C98858FC47967548797D7198C6E60567B31095A138BFD038405FEB92749976BFD1B880B400E2055F34577F313789371ED65679B6B7F0632EFAE69FCB6BBF1719A119DAD1A7FE84366887EDFC36411C3A6F1410FC9BF15618BFCBE8FE46283F5A42564BF87EA354C51F9BB15E0BB1EE22F3C94B01DDE2D7A18384FEEF921167BFB3D6CE0139540D5DEDB0FB23151B3E93025F66EABB1A7CA32ED0CAA45DA0DAB5A57FBA99955B547429D61998953E53B8F94AB0CB91B023E8E93F8314A08876632E638B113F3719E275E504A4B75C1DEDE75F2C37F8E7DC7ECE2B33DFE0837F7675878418AC585B7A5A5FB9DC461EF104D34A61DA2BD99E5D1173CF918FD22FE044388A04351C90928F7802F6FC0586A3E27454662568224D744861C7217B3D30B90BDD46585575E64F1A87BB399A446C602108E8D3AEA7467C896327AD9D3475917A885AE7C37985F215AA7234D17BAEB27AD87674DD0AF479013F05BC2F652C54706AD27A203D490D3E75905A483B2D64AF5A766660D686E412CCC5F7BD8B6B6B1E18C1307C09040EE3C3E29EBEC317E3ADEE9D16A85CF3D20885B6795F124481D7C400A0F050F5D3929F5714B648560E3538C7C51D79EE8244392E4C183886F24242461A7E981231B87929E7243E9E94C64AFEA4CE7A48F916A7A953C34EAD203225FACA8E05417380230A31E1A5933A163A6717790595CB38C5DAF864F79C2E7D6A0B5D530A08C2A8AAB252F097B29958AD32B21C9A332F5A926910CEB45B152A1C6305A22E29DBB2C8D2EF7CAC4C16288AE8CB083798D3FB5257510DF3DC9CC77F95A26DE9609E126CE559F10C7304F97C00EDE65BFCBC0F31ACE39E76B6D8171454C41B10674FB53861E15BB02B47B4897F16B7DA8ED0BA2BC3BE99584E46099BA586365C13A552384515F51377E54537734A70F9FAB82A3B9E685F4D11948534C0DF362BA2A71D6F4B9F4EAFBB5FD43E28862CCBD5CF19EB8A1B619092519D840A1160F8D293D09B21C9157DA37805C57ADFC486AA6F21A35EE4B3DA2E818CA1357BB32750FF2B7ECA496EFC7673ABFA315E609E62F82312A59858AE544EEEA90B7EB200499220CB44AC2228A75A1A4AEDEF4ED00DB9F96C808477381765146734948D2F98F97BAD19C08CEC5B889E17D72FBD9E9E9BF9D29AA024A2C4055648E519F425810F5C9A40B857930CA0231C53BA336D4851C69C60AE7D8C48495DD9EDB7C7508F461228B404B2CB4A27975C82945536A8EC43D2B64C1B80A0BAD675F1772AACF5658E3956F07157065B9391AF7149185E32ACCF1F877882C205F638E283F456451E5DA9DB17EEA378DB37ED5C1C0C0FAD5DD76D5FADBE7832C4A5B6A8E54BD106161AA220BFB52BEFEE32C4DD9C26607639FFEF19B185BB3339ADC9E26467A3EF54DDE00A747DB759C563F9344555795E364ABB8D6B497B209C8765691292CB7BACC653194F7BB9D18EDBB2C0EA72D7E7A1DE24FDA1D2713E656DAF800C2F4B13A68906B84AE2F36A51B67596C466AD4C0A8F4A90CE7D5008309ACEE4F0612684797786F3276C29B6F560C27BB6C3FF1443317E8432799404C3FC14CA8E04926D729BFF9F78332787A9A93879CCD9326037647EB86186AE8F32CD9B6A677400AA9ABC31203255E824DA00AEA38C74EA98186D5D16A20065D4C6E09EBB626270985B4D5C1991D58F2D5D19E9D52830E76A753051A8232D204DA74C47AA08C338D5B0EA4D752C315818DA1BD902D5F0EA7999CB298E6A6A729D596AA8B970D945D0333C576AF0B0BEE947D77703CB56A9401460BDD28DB4FA71C4C00719476109CE9D5830995EEA07EA879EE571029DA2A36694EA75549F3BB89B65691CEFE245552E89336211FAD27F7814FC29EE7E926FF47D8969C8138B88539BD4C58BA1F6707B3F7426AABDD493335CF739FFB72AE23D7143F4D4FF07D5D10A3B795B1767D4267F91932BD61A523D0978D2D80C9776C8D0FCB12293D8E3C8D7DF8B074FF59763A744EFFFEB5EAF7C6B9C8B0961C3A7BCEBF060EBD183AF64237F89874061D47E997AB245CE6203AC4A89C418320A44441C3505867DB526F98BE16AAA3E664D0F8B49FB9CDD825F7F93F51D6B12B1A9B2467487F31FFCD100C456A9B61662767B6B90D13803ED8122467BA1986A3C87C131711C4A51D996FEC865065C219243C5D0E1C0330BBEC37AF8627047C8763702902860074E57E19B86DC9795E4892D89C4693766BFB1AB185A84F8D2F579BB953BBA5A499BE631C5CFE60388806DA790BD3DD17297EB9133F7A09E112880C0210738398AE17BAD91BFD6D381F577EB26FB4391A844FD9867F4E8DD50F66443940B84AE21C65209043F6D85189BD2005A12801F9EAC844AD096F0DA458F309A6189BBCC750716A32604FC4A4194090769F24B6F38D3CEB8D5A7CAFBE4BCAA07E93BB0B8AA00FA43F811258E409189B16C06A459A68DA358F31279F76ABB5A6235EFE04336E9929618AE40846DAF302577D63ED7AFEC5DE2C5F84D1446DC959785D1EA44BF2E7710B8C93664CB129B4990206659BD8E959EF783B2D8FD513647FFA89EF4A1AF23AF393CFBC3E803EF9D40BD1E77A87903E9215674E9D0DA533190A8D362FDDB44CCE86A79A1E84F5F90AA42C23FCD940CE34C2D76BC6EBCE34A14CAAA2CDA9A2632953E59E1091A99D48C8D5FB2D35B2FA636E49508DE5C8326AAA74E2D17D7A6E90AFC5305D8B666465FE178186A74EED222A36FF96AEF3E37C95B22A9E6B4F90A560FA9C2DACD2B7DFA3EE06BB13276491722574B269A50FBB9170C55E758DC4F29C0955766FDE264F9962CFA2B8E8F38F012767718A6428CFC7A4459213F9791D76B798FF29123B7C79B06921C8ABC1187A9CA3D5B4398D6F93DAEB1328AA9B888F7720023EF6C28E3314DC020FE16A0FE679C0E4F1FD1CDD40FF34BE28505A20CC328C6E42EE9B79E237768D5F6672E1693EBA484BFF680A1630990166015EC43F1741D826C63D5184403410C421AD8244655C97048B366D4EECF3243604AAC4D7F8D1D7304A430C965FC46B700F87D08695F60BDC00EFB17E34A907E99F085EEC479F02B0C9409457186D7FFC13EBB01F3DFCF83F010600B06557AD30750000', 'hex') , '6.1.1-30610');
