/* * * * * * * * * * * * * * * * * * * * * * *
 *
 * Migration:		Initial
 *
 * Date and time:	6/9/2015 12:21:18 AM
 *
 * * * * * * * * * * * * * * * * * * * * * * */

CREATE SCHEMA IF NOT EXISTS "public";
CREATE TABLE "public"."Calendars" (
    "Id" serial NOT NULL,
    "Name" text,
    "User_Id" integer NOT NULL,
    CONSTRAINT "PK_public.Calendars" PRIMARY KEY ("Id")
);
CREATE INDEX "IX_public.Calendars_User_Id" ON "public"."Calendars"("User_Id");
CREATE TABLE "public"."FarmingActions" (
    "Id" serial NOT NULL,
    "Month" integer NOT NULL,
    "Action" integer NOT NULL,
    "CropCount" integer NOT NULL,
    "Calendar_Id" integer NOT NULL,
    "Crop_Id" integer,
    CONSTRAINT "PK_public.FarmingActions" PRIMARY KEY ("Id")
);
CREATE INDEX "IX_public.FarmingActions_Calendar_Id" ON "public"."FarmingActions"("Calendar_Id");
CREATE INDEX "IX_public.FarmingActions_Crop_Id" ON "public"."FarmingActions"("Crop_Id");
CREATE TABLE "public"."Crops" (
    "Id" serial NOT NULL,
    "Name" text,
    "Race" text,
    "Category" text,
    "GrowingTime" integer NOT NULL,
    "AreaPerCrop" float8,
    "AreaPerBag" float8,
    "PricePerBag" decimal,
    "SowingMonths" integer NOT NULL,
    "HarvestingMonths" integer NOT NULL,
    CONSTRAINT "PK_public.Crops" PRIMARY KEY ("Id")
);
CREATE TABLE "public"."Likes" (
    "Id" serial NOT NULL,
    "Calendar_Id" integer,
    "User_Id" integer,
    CONSTRAINT "PK_public.Likes" PRIMARY KEY ("Id")
);
CREATE INDEX "IX_public.Likes_Calendar_Id" ON "public"."Likes"("Calendar_Id");
CREATE INDEX "IX_public.Likes_User_Id" ON "public"."Likes"("User_Id");
CREATE TABLE "public"."Users" (
    "Id" serial NOT NULL,
    "Name" text,
    "FullName" text,
    "Email" text,
    "AuthenticationStatus" integer NOT NULL,
    "CreationDate" timestamp NOT NULL,
    CONSTRAINT "PK_public.Users" PRIMARY KEY ("Id")
);
CREATE TABLE "public"."Followers" (
    "Id" serial NOT NULL,
    "Followed_Id" integer,
    "Following_Id" integer,
    CONSTRAINT "PK_public.Followers" PRIMARY KEY ("Id")
);
CREATE INDEX "IX_public.Followers_Followed_Id" ON "public"."Followers"("Followed_Id");
CREATE INDEX "IX_public.Followers_Following_Id" ON "public"."Followers"("Following_Id");
CREATE TABLE "public"."PasswordResetTokens" (
    "Id" serial NOT NULL,
    "Email" text,
    "Token" text,
    "TimeStamp" timestamp NOT NULL,
    CONSTRAINT "PK_public.PasswordResetTokens" PRIMARY KEY ("Id")
);
ALTER TABLE "public"."Calendars" ADD CONSTRAINT "FK_public.Calendars_public.Users_User_Id" 
    FOREIGN KEY ("User_Id") REFERENCES "public"."Users" ("Id") ON DELETE CASCADE;
ALTER TABLE "public"."FarmingActions" ADD CONSTRAINT "FK_public.FarmingActions_public.Calendars_Calendar_Id" 
    FOREIGN KEY ("Calendar_Id") REFERENCES "public"."Calendars" ("Id") ON DELETE CASCADE;
ALTER TABLE "public"."FarmingActions" ADD CONSTRAINT "FK_public.FarmingActions_public.Crops_Crop_Id" 
    FOREIGN KEY ("Crop_Id") REFERENCES "public"."Crops" ("Id");
ALTER TABLE "public"."Likes" ADD CONSTRAINT "FK_public.Likes_public.Calendars_Calendar_Id" 
    FOREIGN KEY ("Calendar_Id") REFERENCES "public"."Calendars" ("Id");
ALTER TABLE "public"."Likes" ADD CONSTRAINT "FK_public.Likes_public.Users_User_Id" 
    FOREIGN KEY ("User_Id") REFERENCES "public"."Users" ("Id");
ALTER TABLE "public"."Followers" ADD CONSTRAINT "FK_public.Followers_public.Users_Followed_Id" 
    FOREIGN KEY ("Followed_Id") REFERENCES "public"."Users" ("Id");
ALTER TABLE "public"."Followers" ADD CONSTRAINT "FK_public.Followers_public.Users_Following_Id" 
    FOREIGN KEY ("Following_Id") REFERENCES "public"."Users" ("Id");
CREATE TABLE "public"."__MigrationHistory" (
    "MigrationId" varchar(150) NOT NULL,
    "ContextKey" varchar(300) NOT NULL,
    "Model" bytea NOT NULL,
    "ProductVersion" varchar(32) NOT NULL,
    CONSTRAINT "PK_public.__MigrationHistory" PRIMARY KEY ("MigrationId", "ContextKey")
);
insert into "public"."__MigrationHistory" ("MigrationId", "ContextKey", "Model", "ProductVersion")
 values ('201506082220521_Initial', 'Oogstplanner.Migrations.Configuration',  decode('1F8B0800000000000003EC1DD96EE436F27D81FD07418F8B49B78F9981C7702770DAE3AC93F101B713ECDB8096E8B6101DBD12E5B1B1D82FCB433E697F614951074F8994D4B61CF865E0E651AC2A569155AC52CDFFFEF8F3E887C728741E609A0549BC7077673BAE03632FF18378BD707374F7DD81FBC3F77FFFDBD1673F7A747EABC6ED937178669C2DDC7B843687F379E6DDC30864B328F0D2244BEED0CC4BA239F093F9DECECEA7F9EEEE1C62102E86E53847D7798C8208163FF0CF65127B708372109E273E0CB3B21DF7AC0AA8CE058860B6011E5CB897C93A439B10C4314C67270001D7390E03801159C1F0CE7570478200C2681EFE9AC1154A9378BDDAE00610DE3C6D201E7707C20C96E81F36C34D29D9D92394CC9B8915282FCF50125902DCDD2F593317A7F762B05BB30E33EF3366327A2254170C5CB84B10C2D807A9EB888B1D2EC3940C14F84BB76356CD7BE7287ADFD56281A567F6E1E3FEC16CFFD3CE3B679987284FE12286394A41F8CEB9CA6FC3C0FB053EDD24BFC37811E761C8A28B11C67D5C036EBA4A930D4CD1D335BC2B8938F35D67CECF9B8B13EB69CC1C4ADE598CF6F75CE7022F0E6E43584B03C38A154A52F813C4140204FD2B80104C63020316FC945617D622FF56AB61F1C38AE43AE7E0F10B8CD7E87EE1E23F5DE73478847ED55262F06B1C60BDC393509A4369910BF010AC0BFC84E54E411AE1358E3DD297B9CE350C8B61D97DB0A13A31E3867C6D84E0344DA2EB241481D423BEDE80740D112626691DB64AF2D4B340F94BF03B54634A7A9408721D125E7CAF2D3AF8984895D8D410E988061BAEA35EAFC286EFAD7065B1399A37AAD9AAB01CC36DB5969BFCA6BA06AA7B9EC4E8BED65D2202658BB4663B9C6ABF1840B4893458435BE29FCB04DF985D8C3015F846C1C63C2C4435E838538C91C53F4D102D866991C4BD5D089221839495A26079B3E2396FAAF962B7AAB0C835F0B6BFC812D3BF4ED2A7AD2FF4539A7CC3906F828673862787789CA5105CC194CA3705749260B1339DF82358DBCDBB4A030F0A13A1174420749DAB14FF557A2B07AEB3F200A163AF0BE4AAE045719C67239CF0FF04E903CC507F90C6A70AB16D6C4F1532E7ED54519D2AFDEE4443B354BC60D446EB60B3B4002B9AA475A31A8BE1A6285DD04E0EC99C37399CCAED768AF17F96853E472008B7BECA718EEE0977BD620756782372FE18660640BFEAB7B6BD6101FE04C3A8AF22FC37BD54075BE06A2FD8D0EF14BD60B557DACFEF4CC230F966AFF0D5BC37A5B7BA7C4AB6F96A3FA7E4E9D76614E3E6889DB297238DB0BD88E8C44289BBD12B8669F1C3BD5D089221832EAA2B9065DF92D4BF8619448504D94AB10CE14D9E0D2EB1E739F6CB1DDDF62AF87CC75746B4B13CF4F5529A478C8C961EC259761A827556A16427A5058CF10513F3C98769F8443C474670786E9DC3E816A695F192A015D1D6DF4098E39F3B126FB9D13F833807C4FB2D87EFB60F3F85B729375EF6F4B8F1E720F5EEEBC1EFDB071F6F5222B1E5E0832EC80CD21F3B88CC63580FDEEF40F9E73C6C207FEC42395F63296910D9EBC07A0537A8F8DD30F04307F2971E4AD8091F763B08B8481EF8257677F63AC8C0EEBC80D5CEFB035995A8D2B42812FBAC5A6B53A99776EAD4409A824EADCA9BD44CA79AD7089D5A99315365300FE4AA0C720AEC3D8E93F8294A087D661CE6E8B063F27196255E50F04A15D569DE15F8E53FC7BE63F6DEDE783C42B8E81C332FD86076E10B69E1FE43A2B07389DAC36896685E4178E8BB3CFA18FA657C024388A043A112FF24F3802F5FBD986B3EC7458663568C24EF93861472F180F119C8C61258E6152FA83CD49DD94C12236306F00F533AE434AF540D5EF48DD19C5A4D34B65B4A86135BB8C4AD78F18F600389E41DED0618F5CC47248EF7F975386902CFDD8C6F2354F3AAD04EECCBE8BBE40A6BF551EF1733DA5EBF725828BAD69DDEA674289C6C4304398F7B54D259477D3CDAA9FBB4C4BE0D08E2C624652C06D2071F91C212C14B97C648E55289A410D8D857915FE11AAF4D5224891F3C1031FF468224DC291DE0C815A1C4A7B83A3A26978935D2647AF4754C261BA79A4C37B48B0BA56C281950CB5A0710F9DD45054EF5BE230066644BB3514C348719DC9E02211E78C6165A4DA72C2D736BA095CA31401939168F5A9E13F65C2AA4AE934392E1656A7A8DC219D6D862B9423569304784E09FCC8C1623CCC00C63302ED5B78572B5E1B5255160E28C1AA2655BA5C31CB32796B34998E9E56935984821D62213DA6298199866265B63608C6D8170455841A1E7ED0697A1C9C56A79734FB429B8D6C8DA3E238A47944E4E481698A90D369417ACD5358019D53B756D68D57D47739A735F361CCD35C9F947E760B3C1D830C9FA658BB3A299FACBEF56F639EC118531F732452A7B8D6DBD124A52B086422F5E1A637A1AA419221F08DC02F26EB5F4236998CAACD49828D58AA2E5286F5C65AE5433C8DFB2155B7CBA30D3DD1A0D334F317D118C51412A541C27F254877C360142902A6241CB24CCA358174F6A9B4D3307D8F9B445867034177017793497982439883CD78DF6443020866D0C6FB4DBEF4EC7FCED6C5119556201944DE6302A378505A2765DDAA03029CB2C20A679326243CDC4816AAC30804D545839EDA5D557078126C7B210688B8554D499AF9C50D4ADE690B8D4561618D76121F56C862B27FA6C8735BC227F5501AE683787C6A5C3B2E0B80E73787C2E2C0B90EF318728A7C3B250E5DEC9683FF54286697FF1BA62AFFDEA69C3B4FF85B848ADCF615C54B957065C544F9BEA19DAA460B2509A56734865B20D0BA66CB238A5941994DC79A51C616307B0E993BC29C0F64C46921B9F6CA0FD58BD79F6301DB5535FE5D9A07AD41DC65BC503B03D974D806CE714194373CB676F1686F225BC154693E2C6C1699A9F5F86F8F78A16FF8E79903576E3983956EE1A798C69FBE85A7A9095D96624463518953C1551D30A406F04CB57A89E08DAE125BE3E0DDDF0FAEB33C3CD2EC68FBCD14CA8A1EF261310E36F3013547996CD758AA21D7E50C4A8CF3292135B678819903B583684A04C9779DEA2FA2A335CC16F65E465028AAE0C2A4D4B04F4D48E23063472D3290274D890ED6743323D595C80186BDBD948D3A4B65C43E5E0ED168275262FEB9A6D6F0BD76ABED59AD2F62B838DAFE45697E38E268E1433DCD46152DD9ABAC0624FDED560C6B8D175F1D349A9760BC5638B461189B5908D62FC78C2C1445A0749078133BE783031E509CA879AE66E0191C2D2E290DA012D5BEADF7558BA0C097717929362C47408A930913C043E890F5F6CD6D9BFC3A6E51CC4C11DCCE87BC1C2FD34DB9F7D14CACF4DA714DC3CCB7CEE3BC3967A70FC363DC3D788418CDE97CADAF6C1A1E5D7DAF41195AE4073441B00265FFDD5D7338BA494667A16FBF071E1FEA79874E89CFDEB6B39EF9D739962293974769CFF8E55FEA3C5617DBDFBC4D5D9A24B0CAAB0D50B845456AB1F14D6BBB1141B66AE85E8A829E9B53E9DA75B5BD618BB52587F11611D7AA8B045A5FACC17EB45F581A12805D54FEDE44A50776102D0812D427265A87E701495A2E23C82B8B5A55294DD12AACA51BD98A7AB196500CCAE5AD45F44F1B67CB4BEA04130E064557C1EF66A3778E8C92A1634EA03832B5AD107405B19A29E76895C728814CBCE68506E24B352E916BF5E51E29E252C9595993BE4ACE03DDF5E38D0C95B3835BAA2DDAF77E307EB2F574FA61700B154CC50651D5C30808F8B3DDB87FB1C0EC2578FFDBFB1C7E20753221C205C2671865210C86907D80C8CBD6003429103F2DB98895813DA6A9062CF09DC60D824A74445A9C9821DF1BF7A0181DB5D9CD84EE104D6D6B728623025615067674F4110F4C900CF200466C523AC0E930E39A0DF215BD76498FC11A0C9009EA2E67717D16862AB565FF4BFD8466B12875F6E935B82BCCFB0C16685448C36794BA681D589F2CA84C4EAD4795941312FA632C689D01481E8558564D29BDE92EC2DAFD59132F0FC1BDF564CE66DE747DF797D3AC0E85B2FC4D2AB0B42FA365ADC3975959CD622393476BE703745793EBCD5D4EBD597A31057111C016929A15FB35E7B111165B11D6DAD1D1D49A9AAAC880899DA3B1264DAAC81ACAC88A12CD3A3ADD2A381ACAE0E206D41AD9332F7EB2E1DE375B50C0C8AFC18D6F8D1ACAC2C1A24E0F0DCF5804495E1530E5BAB3DA8D44091B93E42D98BF10BFDB0EAD47CE03C0D7247ABE2D37F6FD933A1C93D1E89B421757AD823A5F9A8F2254819AD1A8F3D4956FB3A857A3BF6248A073C9F20393A896354D27939222D2AE4C82987D86863FE875B6C3666C1BA0141322963E871E65A3DE62CBE4B2ADB51C0A81A22665341047C6CCB1DA728B8031EC2DD1ECCB280A906FD39BA85FE597C99A34D8E30C930BA0DB9820BC4FA6C5BBF2803C4E37C74B929ACAC3148C0680698047819FF9807615360F9541135D18020666D19572AE2B024BEB46EEAAA5F24B121A0927DB5357E03A34D88816597F10A3CC03EB861A1FD02D7C07BAA1249F540BA378267FBD14900D62988B21246331FFFC432EC478FDFFF5F8001008584A60FE8790000', 'hex') , '6.1.1-30610');
